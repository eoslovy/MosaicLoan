import json
from imputing_data import run_imputation

# JSON 문자열 형태의 입력 데이터
input_json = json.dumps({
   "case_id": 12345,
   "children_count": None,
   "dependents": 1.0,
   "other_income": None,
   "employment_years": 5.0,
   "house_type": None,
   "gender": None,
   "is_married": None,
   "age": 35.0,
   "main_income": None,
   "total_income": None,
   "income_level": None,
   "job_stability_score": None,
   "dependents_per_income": None,
   "industry": None,
   "industry_stability_weight": None,
   "income_stability": None,
   "family_composition_score": None,
   "has_debit_card": None,
   "month_sin_prep": None,
   "month_cos_prep": None,
   "week_sin_prep": None,
   "week_cos_prep": None,
   "quarter_sin_prep": None,
   "quarter_cos_prep": None,
   "days30_165L_prep": None,
   "days90_310L_prep": None,
   "days120_123L_prep": None,
   "days180_256L_prep": None,
   "days360_512L_prep": None,
   "avginstallast24m_3658937A_prep": None,
   "avgoutstandbalancel6m_4187114A_prep": None,
   "avgpmtlast12m_4525200A_prep": None,
   "cntpmts24_3658933L_prep": None,
   "sumoutstandtotal_3546847A_prep": None,
   "days_since_last_delinq_prep": None,
   "days_since_response_prep": None,
   "short_to_long_term_ratio_prep": None,
   "mid_to_long_term_ratio_prep": None,
   "payment_frequency_prep": None,
   "payment_to_balance_ratio_prep": None,
   "installment_to_balance_ratio_prep": None,
   "short_term_debt_burden_prep": None,
   "long_term_debt_burden_prep": None,
   "weighted_default_rate_prep": None,
   "default_rate_volatility_prep": None,
   "default_rate_zscore_prep": None,
   "trend_reversal_prep": None,
   "default_acceleration_prep": None,
   "risk_composite_prep": None,
   "daily_default_rate_prep": None,
   "default_rate_ma7_prep": None,
   "default_rate_ma30_prep": None,
   "default_rate_std7_prep": None,
   "default_rate_change_prep": None,
   "numinstpaidearly3d_3546850L": None,
   "numinstpaidearly5d_1087L": None,
   "numinstlswithdpd10_728L": None,
   "numinstlswithdpd5_4187116L": None,
   "numinstlswithoutdpd_562L": None,
   "pctinstlsallpaidearl3d_427L": None,
   "pctinstlsallpaidlat10d_839L": None,
   "last180dayturnover_1134A": None,
   "last30dayturnover_651A": None,
   "amtdebitincoming_4809443A": None,
   "amtdebitoutgoing_4809440A": None,
   "credacc_transactions_402L": None,
   "raw_behavior_score": None,
   "behavior_score": None,
   "payment_consistency": None,
   "good_payment_ratio": None,
   "early_to_late_payment_ratio": None,
   "behavior_score_diff": None,
   "severe_late_payment_ratio": None,
   "transaction_activity_ratio": None,
   "cash_flow_health": None,
   "behavior_score_binned": None,
   "risk_indicator": None,
   "behavior_payment_alignment": None,
   "avgdbddpdlast24m_3658932P": None,
   "avgdbddpdlast3m_4187120P": None,
   "avgmaxdpdlast9m_3716943P": None,
   "maxdpdlast6m_474P": None,
   "dpdmax_139P": None,
   "dpdmax_757P": None,
   "overdueamount_31A": None,
   "overdueamount_659A": None,
   "totaldebtoverduevalue_178A": None,
   "totaloutstanddebtvalue_39A": None,
   "debtpastduevalue_732A": None,
   "overdue_outstanding_ratio": None,
   "recent_dpd_change_ratio": None,
   "short_term_dpd_ratio": None,
   "active_closed_dpd_ratio": None,
   "active_closed_overdue_ratio": None,
   "severe_dpd_last6m_flag": None,
   "increasing_dpd_flag": None,
   "overdue_amount_category": None,
   "debt_burden_category": None,
   "dpd_amount_interaction": None,
   "recent_dpd_squared": None,
   "long_short_dpd_interaction": None,
   "composite_credit_risk": None,
   "composite_debt_risk": None,
   "dpd_worsening_rate": None,
   "long_short_term_dpd_diff": None,
   "dpd_volatility": None,
   "dpd_pyramid_index": None,
   "credit_shock_indicator": None,
   "debt_concentration_ratio": None,
   "delinquency_severity_index": None,
   "cyclical_delinquency_pattern": None,
   "log_outstanding_debt": None,
   "log_overdue_debt": None,
   "exp_recent_dpd": None,
   "ensemble_risk_score": None,
   "credit_resilience": None,
   "delinquency_entropy_proxy": None,
   "dpd_acceleration": None,
   "projected_dpd": None,
   "debt_elasticity": None,
   "target": None
})

# 결측치 대치 수행
result = run_imputation(
    input_json, 
    'distribution_info.pkl', 
)

# 대치된 결과 출력
print(result)
